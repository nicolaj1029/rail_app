#!/usr/bin/env bash
# Used as a default to seed config/.env which
# enables you to use environment variables to configure
# the aspects of your application that vary by
# environment.
#
# Having this file in production is considered a **SECURITY RISK** and also decreases
# the bootstrap performance of your application.
#
# To use this file, first copy it into `config/.env`. Also ensure the related
# code block for loading this file is uncommented in `config/bootstrap.php`
#
# In development .env files are parsed by PHP
# and set into the environment. This provides a simpler
# development workflow over standard environment variables.
export APP_NAME="__APP_NAME__"
export DEBUG="true"
export APP_ENCODING="UTF-8"
export APP_DEFAULT_LOCALE="en_US"
export APP_DEFAULT_TIMEZONE="UTC"
export SECURITY_SALT="__SALT__"

# Uncomment these to define cache configuration via environment variables.
#export CACHE_DURATION="+2 minutes"
#export CACHE_DEFAULT_URL="file:///path/to/tmp/cache/?prefix=${APP_NAME}_default_&duration=${CACHE_DURATION}"
#export CACHE_CAKECORE_URL="file:///path/to/tmp/cache/persistent?prefix=${APP_NAME}_cake_translations_&serialize=true&duration=${CACHE_DURATION}"
#export CACHE_CAKEMODEL_URL="file:///path/to/tmp/cache/models?prefix=${APP_NAME}_cake_model_&serialize=true&duration=${CACHE_DURATION}"

# Uncomment these to define email transport configuration via environment variables.
#export EMAIL_TRANSPORT_DEFAULT_URL=""

# Uncomment these to define database configuration via environment variables.
#export DATABASE_URL="mysql://my_app:secret@localhost/${APP_NAME}?encoding=utf8&timezone=UTC&cacheMetadata=true&quoteIdentifiers=false&persistent=false"
#export DATABASE_TEST_URL="mysql://my_app:secret@localhost/test_${APP_NAME}?encoding=utf8&timezone=UTC&cacheMetadata=true&quoteIdentifiers=false&persistent=false"

# Uncomment these to define logging configuration via environment variables.
#export LOG_DEBUG_URL="file:///path/to/logs/?levels[]=notice&levels[]=info&levels[]=debug&file=debug"
#export LOG_ERROR_URL="file:///path/to/logs/?levels[]=warning&levels[]=error&levels[]=critical&levels[]=alert&levels[]=emergency&file=error"

# --- LLM Extraction (Broker fallback) ---
# For Groq (OpenAI-compatible API)
# export LLM_PROVIDER="groq"
# export OPENAI_API_KEY="sk-groq-xxxx"
# Prefer plain base; app normalizes to /openai/v1 automatically
# export OPENAI_BASE_URL="https://api.groq.com"
# export OPENAI_MODEL="mixtral-8x7b-32768"
# export LLM_TIMEOUT_SECONDS="20"

# Enable structuring of segments with LLM when parser finds none
# export USE_LLM_STRUCTURING="1"
# Also verify/augment segments even when some exist (or use ?segments_verify=1)
# export LLM_VERIFY_SEGMENTS="1"

# Enable Vision OCR (images) and run Vision first
# export LLM_VISION_ENABLED="1"
# export LLM_VISION_PRIORITY="first"
# export VISION_MODEL="llama-3.2-11b-vision-preview"

# Force strict JSON parsing for LLM extraction
# export LLM_FORCE_JSON="1"

# For Azure OpenAI
# export LLM_PROVIDER="azure"
# export OPENAI_API_KEY="<azure-openai-key>"
# export OPENAI_BASE_URL="https://<resource>.openai.azure.com"
# export OPENAI_MODEL="<deployment-name>"
# export OPENAI_API_VERSION="2024-08-01-preview"

# Tesseract OCR (fallback for images)
# export TESSERACT_LANGS="eng+fra+deu+ita"
# export TESSERACT_PATH="C:\\Program Files\\Tesseract-OCR\\tesseract.exe"
